@import './variables.less';
@import './themes/@{ethan-theme}.less';

@dropdown-prefix: ~'@{ethan-prefix}-dropdown';
@dropdown-caret-size: 10px;

.@{dropdown-prefix} {
    position: relative;
    display: inline-block;

    &-button {
        border-width: @dropdown-border-width;
    }

    .@{dropdown-prefix}-button span.@{dropdown-prefix}-caret {
        width: @dropdown-caret-size;
        height: @dropdown-caret-size;
        display: inline-block;
        vertical-align: middle;

        svg {
            vertical-align: top;
        }
    }

    &-menu {
        position: absolute;
        z-index: @zindex-dropdown;
        min-width: 100%;
        padding: 0;
        background: @dropdown-bg;
        background-clip: padding-box;
        border-radius: @input-dropdown-border-radius;
        box-shadow: 0 0 1px 1px rgba(0, 0, 0, 0.02), @dropdown-box-shadow;
    }

    &-menu .@{dropdown-prefix}-button {
        display: flex;
        align-items: center;
    }

    .@{dropdown-prefix}-button-content {
        display: inline-block;
        flex: 1;
        padding: 0 2px;
        text-align: left;
    }

    &-bottom-left,
    &-bottom-right {
        > .@{dropdown-prefix}-menu {
            top: 100%;
            margin-top: 2px;
        }
    }

    &-bottom-left,
    &-top-left {
        > .@{dropdown-prefix}-menu {
            left: 0;
        }
    }

    &-bottom-right,
    &-top-right {
        > .@{dropdown-prefix}-menu {
            right: 0;
        }
    }

    &-top-left,
    &-top-right {
        > .@{dropdown-prefix}-menu {
            bottom: 100%;
            margin-bottom: 2px;
        }

        > .@{dropdown-prefix}-button .@{dropdown-prefix}-caret {
            transform: rotate(180deg);
        }
    }

    &-left-bottom,
    &-right-bottom {
        > .@{dropdown-prefix}-menu {
            bottom: 0;
        }
    }

    &-left-bottom,
    &-left-top {
        > .@{dropdown-prefix}-menu {
            right: 100%;
            margin-right: 2px;
        }

        > .@{dropdown-prefix}-button .@{dropdown-prefix}-caret {
            transform: rotate(90deg);
        }
    }

    &-left-top,
    &-right-top {
        > .@{dropdown-prefix}-menu {
            top: 0;
        }
    }

    &-right-bottom,
    &-right-top {
        > .@{dropdown-prefix}-menu {
            left: 100%;
            margin-left: 2px;
        }

        > .@{dropdown-prefix}-button .@{dropdown-prefix}-caret {
            transform: rotate(270deg);
        }
    }

    &-left-bottom,
    &-left-top {
        .@{dropdown-prefix}-button {
            direction: rtl;
        }
    }

    &-item {
        display: block;
        padding: @dropdown-item-padding-y @dropdown-padding-x;
        color: @dropdown-link-color;
        line-height: @line-height-base;
        text-decoration: none;

        a&[disabled] {
            color: @gray-400;
            cursor: not-allowed;
        }

        &:first-child {
            border-top-left-radius: @border-radius-base;
            border-top-right-radius: @border-radius-base;
        }

        &:last-child {
            border-bottom-left-radius: @border-radius-base;
            border-bottom-right-radius: @border-radius-base;
        }

        &:hover,
        &.@{dropdown-prefix}-active {
            background-color: @dropdown-link-hover-bg;
            color: @dropdown-link-hover-color;
            fill: @dropdown-link-hover-color;
        }

        &:focus {
            text-decoration: none;
        }
    }

    &-no-width {
        white-space: nowrap;
    }

    &-box-list {
        padding: @dropdown-columns-padding;
        box-sizing: content-box;

        .@{dropdown-prefix}-item {
            text-align: center;

            &:hover {
                color: @colors-primary;
            }
        }
    }
}
